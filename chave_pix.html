<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;600;700;800;900&display=swap');
        :root{
            --largura: 100%;
        }
        *{
            margin: 0%;
            padding: 0%;
        }

        body{
            background-color: #ffffff;
            width: var(--largura);
            font-family: 'Nunito Sans', sans-serif;
            font-size: 1em;

        }
        header{
            display: flex;
            align-items: center;
            width:  100vw;
            height: 10.22vw;
        }
        header img{
            margin: 10px;
            width: 4.16vw;
            height: 4.16vw;
            background-size: cover;
        }
        main{
            margin: 0px 15px 10px 15px;
        }
        main>h1{
            font-size: 24px;
            font-weight: 800;
            margin: 10px 0px;
        }
        main>p{
            font-size: 15px;

        }
        button{
            width: 20.41vw;
            height: 17.77vw;
            margin: 20px 5px 35px 0px;

            border-radius: 10px;
            border: 1px solid rgba(128, 128, 128, 0.719);
            background-color: #016533;
            background-repeat: no-repeat;
            background-size: cover;

        }
        main>img{
            width: 20.41vw;
            height: 17.77vw;
            margin: 20px 5px 35px 0px;

            border-radius: 10px;
            border: 0.14vw solid rgba(128, 128, 128, 0.719);
            background-color: #016533;
            background-repeat: no-repeat;
            background-size: cover;

        }
        input{
            width: 98%;
            margin-bottom: 35px;
            padding: 5px 0px;
            border: 0px;
            border-bottom: 1px solid;
            outline: none;
            font-size: 16px;

        }
        input:focus{
            border-bottom: 1px solid rgb(0, 202, 10);
            
        }

        #dica_input{
            color: rgb(0, 202, 10);
        }

        #avançar{
            width: 100%;
            height: auto;
            padding: 15px;
            border: 0px;
            font-weight: 600;
            color: gray;
            background-color: rgba(128, 128, 128, 0.24);
        }
        #recentes h1{
            font-size: 18px;
            font-weight: 600;
            margin: 10px 0px;
        }
        #recentes section{
            text-align: center;
            width: 20.41vw;
        }

        #recentes hr{
            height: 0.26vw;
            background-color:rgb(0, 202, 10);
            border: 0px;
        }
        .pessoas{
            display: flex;
            align-items: center;
            margin-top: 10px;

        }
        .pessoas img{
            width: 8.88w;
            height: 8.88vw;
        }

        .infos{
            margin-left: 15px;
        }
        .infos p{
            font-size: 12px;
        }
    </style>
</head>
<body>
    <a href="tela_do_pix.html">
        <header>
            <img src="img/back.png" alt="">
        </header>
    </a>

    <main>
        <h1>Selecione uma chave</h1>
        <p>Insira qual a chave de envio escolhida por quem vai receber esse Pix.</p>
        
        <img onclick="chave('cpf')" id="cpf" src="img/0004_cpf_hover.png"></img>
        <img onclick="chave('celular')" id="celular" src="img/0006_celular.png" ></img>
        <img onclick="chave('email')" id="email" src="img/0002_email.png"></img>

        <img id="aleatoria" src="img/0003_aleatoria.png" ></img>
                
        <p id="dica_input"></p>
        <input onclick="chave('celular')" type="tel" name="input_new" id="input_new">
        <input onclick="chave('cpf')" type="tel" name="input" id="input" placeholder="Número do CPF/CNPJ">
        <button onclick="avan()" id="avançar"  > Avançar</button>
        <div id="recentes">
            <section>
                <h1>Recentes</h1>
                <hr>
            </section>

            <div class="pessoas">
                <img src="img/recentes.png" alt="">
                <div class="infos">
                    <p style="margin-bottom: 5px;"><strong>ANA ANDREIA JERUSALENO MESQUITA</strong></p>
                    <p>BANCO INTER</p>
                    <p>+55 24 99842-8760</p>
                </div>
            </div>

            <div class="pessoas">
                <img src="img/recentes.png" alt="">
                <div class="infos">
                    <p style="margin-bottom: 5px;"><strong>Aurilio Rodrigo Oliveira Rocha</strong></p>
                    <p>PICPAY SERVICOS S.A.</p>
                    <p>+55 24 99842-8760</p>
                </div>
            </div>

            <div class="pessoas">
                <img src="img/recentes.png" alt="">
                <div class="infos">
                    <p style="margin-bottom: 5px;"><strong>Rafaella Lemos de Sa Mota</strong></p>
                    <p>MERCADO PAGO</p>
                    <p>+55 24 99995-4914</p>
                </div>
            </div>



        </div>

    </main>

    <script>
        function avan() {
            window.location.href = 'novo_pagamento.html'

        }

        const bnt_cpf = document.getElementById('cpf')
        const bnt_celular = document.getElementById('celular')
        const bnt_email = document.getElementById('email')
        const dica_input = document.getElementById('dica_input')
        const input_txt = document.getElementById('input')
        const input_new = document.getElementById('input_new')
        const avançar = document.getElementById('avançar')

        avançar.style.display = "none"

        let chave_escolhida = 'cpf'

        input_new.style.display = "none"
        input_txt.style.display = "block"



        function chave(n){
            avançar.style.display = "block"
            input_txt.focus()
            input_txt.placeholder = ""

            switch (n) {
                case "cpf":
                    input_txt.value = '';
                    dica_input.innerHTML = 'Número do CPF/CNPJ'
                    bnt_cpf.src = 'img/0004_cpf_hover.png'; 
                    bnt_celular.src = 'img/0006_celular.png'; 
                    bnt_email.src = 'img/0002_email.png'; 
                    chave_escolhida = 'cpf'
                    break;
                case "celular":
                    dica_input.innerHTML = 'Número do Celular'
                    bnt_cpf.src = 'img/0000_cpf.png'; 
                    bnt_celular.src = 'img/0001_celular_hover.png'; 
                    bnt_email.src = 'img/0002_email.png'; 
                    chave_escolhida = 'celular'

                    break;
                case "email":
                    input_txt.value = '';
                    dica_input.innerHTML = 'Endereço de E-mail'
                    bnt_cpf.src = 'img/0000_cpf.png'; 
                    bnt_celular.src = 'img/0006_celular.png'; 
                    bnt_email.src = 'img/0005_email_hover.png'; 
                    chave_escolhida = 'email'
                    break;
            }
        



            console.log(chave_escolhida);

            if(chave_escolhida == 'cpf'){
                input_new.style.display = "none"
                input_txt.style.display = "block"

                avançar.style.color = 'gray'
                avançar.style.backgroundColor = 'rgba(128, 128, 128, 0.24)'                    


                input_txt.type = "tel";
                formataçãoCpf()
            }
            
            if(chave_escolhida == 'celular'){
                input_new.style.display = "block"
                input_txt.style.display = "none"

                avançar.style.color = 'gray'
                avançar.style.backgroundColor = 'rgba(128, 128, 128, 0.24)'                    


                input_new.type = "tel";
                input_new.value="+55"
                input_new.focus()

                input_new.addEventListener('keypress', () => {
                    let inputLength = input_new.value.length

                    if (inputLength >= 13 || input_new.value.search('@') != -1|| input_new.value.search('.') != -1) {
                        avançar.style.color = 'aliceblue'
                        avançar.style.backgroundColor = '#016533'                    
                    }else{
                        avançar.style.color = 'gray'
                        avançar.style.backgroundColor = 'rgba(128, 128, 128, 0.24)'                    
                    }

                    
                    })
            }
            
            if(chave_escolhida == 'email'){
                input_new.style.display = "block"
                input_txt.style.display = "none"

                avançar.style.color = 'gray'
                avançar.style.backgroundColor = 'rgba(128, 128, 128, 0.24)'                    


                input_new.type = "email";
                input_new.value=""
                input_new.focus()

            }



        }

        function formataçãoCpf() {
            input_txt.addEventListener('keypress', () => {
                    let inputLength = input_txt.value.length

                    if (inputLength >= 13) {
                        avançar.style.color = 'aliceblue'
                        avançar.style.backgroundColor = '#016533'                    
                    }else{
                        avançar.style.color = 'gray'
                        avançar.style.backgroundColor = 'rgba(128, 128, 128, 0.24)'                    
                    }

                    if(inputLength === 3){
                        input_txt.value += "."
                    }

                    else if(inputLength === 7){
                        input_txt.value += "."
                    }

                    else if (inputLength === 11) {
                        input_txt.value += '-'
                    }

                    else if(inputLength === 15){
                        input_txt.value = input_txt.value.replace('.','')
                        input_txt.value = input_txt.value.replace('.','')
                        input_txt.value = input_txt.value.replace('-','')

                        console.log(input_txt.value);
                        input_txt.value += '-'

                        input_txt.value = input_txt.value.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})/, "$1.$2.$3/$4")
				        //12.345.678/0001-01
				        //123456780001


                    }

                })
            
        }

    </script>
</body>
</html>